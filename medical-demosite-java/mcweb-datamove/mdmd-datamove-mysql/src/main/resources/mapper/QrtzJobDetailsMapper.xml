<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.center.medical.datamove.common.dao.QrtzJobDetailsMapper">

    <resultMap type="com.center.medical.datamove.common.bean.model.QrtzJobDetails" id="QrtzJobDetailsMap">
        <id property="schedName" column="sched_name"/>
        <result property="jobName" column="job_name"/>
        <result property="jobGroup" column="job_group"/>
        <result property="description" column="description"/>
        <result property="jobClassName" column="job_class_name"/>
        <result property="isDurable" column="is_durable"/>
        <result property="isNonconcurrent" column="is_nonconcurrent"/>
        <result property="isUpdateData" column="is_update_data"/>
        <result property="requestsRecovery" column="requests_recovery"/>
        <result property="jobData" column="job_data"/>
    </resultMap>

    <!-- 数据表字段属性 -->
    <sql id="selectQrtzJobDetailsVo">
        select sched_name,
               job_name,
               job_group,
               description,
               job_class_name,
               is_durable,
               is_nonconcurrent,
               is_update_data,
               requests_recovery,
               job_data
        from qrtz_job_details
    </sql>

    <!-- 查询列表数据 -->
    <select id="getPage" resultMap="QrtzJobDetailsMap">
        <include refid="selectQrtzJobDetailsVo"/>
    </select>

    <!-- 根据主键id获取记录详情 -->
    <select id="getInfoById" resultMap="QrtzJobDetailsMap">
        <include refid="selectQrtzJobDetailsVo"/>
        <where>
            schedName = #{id}
        </where>
    </select>

</mapper>

