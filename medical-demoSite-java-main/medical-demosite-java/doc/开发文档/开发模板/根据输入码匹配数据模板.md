## 业务操作模板

### 1.新增或者编辑

- controller层

```java
this.clientcommonService.saOrUp(clientcommon);
```

- service接口

```java

/**
 * 新增/编辑操作
 *
 * @param clientcommon
 * @return
 */
    Boolean saOrUp(Clientcommon clientcommon);
```

- serviceImpl实现层

```java


/**
 * 新增/编辑操作
 *
 * @param clientcommon
 * @return
 */
@Override
public Boolean saOrUp(Clientcommon clientcommon){
        if(StringUtils.isBlank(clientCommon.getId())){
        //新增
        }else{
        //编辑
        }
        return Boolean.TRUE;
        }
```

### 2.删除

- controller层

```java


/**
 * 删除数据
 *
 * @param ids 主键集合
 * @return 删除结果
 */
@DeleteMapping("/{ids}")
//@PreAuthorize("@ss.hasPermi('::remove')")
@ApiOperation(value = "删除", notes = "删除JC检查项目表")
@ApiImplicitParam(name = "ids", value = "要删除的对象id集合，多个以英文逗号（,）隔开")
@Log(title = "JC检查项目表", businessType = BusinessType.DELETE)
public R delete(@PathVariable List<String> ids){

        return R.toResult(this.basexamltemService.delete(ids));
        }
```

- service接口

```java
/**
 * 删除操作
 *
 * @param ids
 * @return
 */
    Boolean delete(List<String> ids);
```

- serviceImpl实现层

```java
/**
 * 删除操作
 *
 * @param ids
 * @return
 */
@Override
public Boolean delete(List<String> ids){
        return Boolean.TRUE;
        }
```

### 3.查不到信息抛异常

```java
 else{
        throw new ServiceException("领取失败，找不到ID为["+id+"的客户信息");
        }
```

### 4.单条或者多条记录状态改变操作，如：禁用/反禁用等

- controller层

```java
/**
 * 禁用/反禁用套餐
 *
 * @param ids 操作的对象主键id集合
 * @return
 */
@PutMapping("/setBan")
@ApiOperation(value = "禁用/反禁用套餐", notes = "禁用/反禁用套餐")
@ApiImplicitParams({
        @ApiImplicitParam(name = "ids", value = "要操作的对象主键id集合，多个以英文逗号隔开"),
        @ApiImplicitParam(name = "state", value = "操作标识：0反禁用 1禁用")
})
public R<Boolean> setBan(@RequestParam(name = "ids", required = true) List<String> ids,@RequestParam(name = "state", required = true) Integer state){
        if(CollectionUtil.isEmpty(ids)){
        throw new ServiceException("请选择要操作的对象");
        }
        return R.ok(createcomboService.setBan(ids,state));
        }
```

- service业务接口层

```java
/**
 * 禁用/反禁用套餐
 *
 * @param ids 操作的对象主键id集合
 * @param state    操作标识：0反禁用 1禁用
 * @return
 */
    Boolean setBan(List<String> ids,Integer state);
```

- serviceImpl业务实现层

```java
/**
 * 禁用/反禁用套餐
 *
 * @param ids 操作的对象主键id集合
 * @param state    操作标识：0反禁用 1禁用
 * @return
 */
@Override
public Boolean setBan(List<String> ids,Integer state){
        //操作业务实现
        for(String id:ids){

        }
        return Boolean.TRUE;
        }

```

### 5.判断是否如何

```java



/**
 * 判断最小套餐是否允许编辑
 *
 * @return
 */
@GetMapping("/isEdit/{comboId}")
@ApiOperation(value = "是否允许编辑", notes = "判断最小套餐是否允许编辑")
@ApiImplicitParam(name = "comboId", value = "判断的套餐ID")
public R<Boolean> isEdit(@PathVariable String comboId){
        Createcombo one=createcomboService.getOne(new LambdaQueryWrapper<Createcombo>().eq(Createcombo::getId,comboId)
        .eq(Createcombo::getIsDelete,0));
        return R.ok(Objects.nonNull(one)?Objects.equals(one.getBjzt(),0):Boolean.FALSE);
        }
```
