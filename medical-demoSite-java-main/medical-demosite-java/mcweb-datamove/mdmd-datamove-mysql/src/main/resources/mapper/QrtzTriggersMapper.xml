<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.center.medical.datamove.common.dao.QrtzTriggersMapper">

    <resultMap type="com.center.medical.datamove.common.bean.model.QrtzTriggers" id="QrtzTriggersMap">
        <id property="schedName" column="sched_name"/>
        <result property="triggerName" column="trigger_name"/>
        <result property="triggerGroup" column="trigger_group"/>
        <result property="jobName" column="job_name"/>
        <result property="jobGroup" column="job_group"/>
        <result property="description" column="description"/>
        <result property="nextFireTime" column="next_fire_time"/>
        <result property="prevFireTime" column="prev_fire_time"/>
        <result property="priority" column="priority"/>
        <result property="triggerState" column="trigger_state"/>
        <result property="triggerType" column="trigger_type"/>
        <result property="startTime" column="start_time"/>
        <result property="endTime" column="end_time"/>
        <result property="calendarName" column="calendar_name"/>
        <result property="misfireInstr" column="misfire_instr"/>
        <result property="jobData" column="job_data"/>
    </resultMap>

    <!-- 数据表字段属性 -->
    <sql id="selectQrtzTriggersVo">
        select sched_name,
               trigger_name,
               trigger_group,
               job_name,
               job_group,
               description,
               next_fire_time,
               prev_fire_time,
               priority,
               trigger_state,
               trigger_type,
               start_time,
               end_time,
               calendar_name,
               misfire_instr,
               job_data
        from qrtz_triggers
    </sql>

    <!-- 查询列表数据 -->
    <select id="getPage" resultMap="QrtzTriggersMap">
        <include refid="selectQrtzTriggersVo"/>
    </select>

    <!-- 根据主键id获取记录详情 -->
    <select id="getInfoById" resultMap="QrtzTriggersMap">
        <include refid="selectQrtzTriggersVo"/>
        <where>
            schedName = #{id}
        </where>
    </select>

</mapper>

