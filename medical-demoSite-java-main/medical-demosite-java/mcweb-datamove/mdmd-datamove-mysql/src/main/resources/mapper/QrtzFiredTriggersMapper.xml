<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.center.medical.datamove.common.dao.QrtzFiredTriggersMapper">

    <resultMap type="com.center.medical.datamove.common.bean.model.QrtzFiredTriggers" id="QrtzFiredTriggersMap">
        <id property="schedName" column="sched_name"/>
        <result property="entryId" column="entry_id"/>
        <result property="triggerName" column="trigger_name"/>
        <result property="triggerGroup" column="trigger_group"/>
        <result property="instanceName" column="instance_name"/>
        <result property="firedTime" column="fired_time"/>
        <result property="schedTime" column="sched_time"/>
        <result property="priority" column="priority"/>
        <result property="state" column="state"/>
        <result property="jobName" column="job_name"/>
        <result property="jobGroup" column="job_group"/>
        <result property="isNonconcurrent" column="is_nonconcurrent"/>
        <result property="requestsRecovery" column="requests_recovery"/>
    </resultMap>

    <!-- 数据表字段属性 -->
    <sql id="selectQrtzFiredTriggersVo">
        select sched_name,
               entry_id,
               trigger_name,
               trigger_group,
               instance_name,
               fired_time,
               sched_time,
               priority,
               state,
               job_name,
               job_group,
               is_nonconcurrent,
               requests_recovery
        from qrtz_fired_triggers
    </sql>

    <!-- 查询列表数据 -->
    <select id="getPage" resultMap="QrtzFiredTriggersMap">
        <include refid="selectQrtzFiredTriggersVo"/>
    </select>

    <!-- 根据主键id获取记录详情 -->
    <select id="getInfoById" resultMap="QrtzFiredTriggersMap">
        <include refid="selectQrtzFiredTriggersVo"/>
        <where>
            schedName = #{id}
        </where>
    </select>

</mapper>

